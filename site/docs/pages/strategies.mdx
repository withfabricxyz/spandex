# Strategies

## Overview

SpanDEX supports multiple quote selection strategies to match different use cases. When you call `fetchBestQuote(params, strategy)`, the strategy argument determines which quote is "best" from all provider responses.

## Built-in Strategies

Cover strategies with simple examples.

## Custom Strategies

You can define your own selection logic by passing a function instead of a strategy name:

```ts twoslash
// [!include ~/snippets/strategy-custom.ts]
```

**Custom strategy signature:**
```typescript
type QuoteSelectionFn = (
  quotes: Array<Promise<Quote>>
) => Promise<SuccessfulQuote | null>
```

Your function receives an array of quote promises and must return the selected quote or `null` if none are acceptable.

## Comparison

| Strategy | Waits for All | Selection Criteria | Best For |
|----------|---------------|-------------------|----------|
| `quotedPrice` | ✓ | Highest output | Price optimization |
| `quotedGas` | ✓ | Lowest gas cost | Gas efficiency |
| `fastest` | ✗ | First success | Speed/latency |
| `priority` | ✗ | Provider order | Fallback chains |
| Custom | Depends | Your logic | Special requirements |
