import { animate, createScope, type Scope } from "animejs";
import { useEffect, useRef } from "react";
import { MarketNetwork } from "@/components/icons/MarketNetwork";
import { getExplorerUrl } from "@/config/onchain";
import { useNoScroll } from "@/hooks/useNoScroll";
import type { TokenMetadata } from "@/services/tokens";
import { formatAddress, formatTokenValue } from "@/utils/strings";

type SuccessSplashProps = {
  sellToken: TokenMetadata;
  buyToken: TokenMetadata;
  successfulTx: { hash: `0x${string}`; chainId: number; inputAmount: bigint; outputAmount: bigint };
  onClose: () => void;
};

function RouteAnimation({
  sellToken,
  buyToken,
  successfulTx,
}: Omit<SuccessSplashProps, "onClose">) {
  const root = useRef<HTMLDivElement>(null);
  const scope = useRef<Scope | null>(null);
  const horizontalRef = useRef<SVGPathElement>(null);
  const verticalRef = useRef<SVGPathElement>(null);
  const diagonalRef = useRef<SVGPathElement>(null);

  useEffect(() => {
    scope.current = createScope({ root }).add((_self) => {
      if (!horizontalRef.current || !verticalRef.current || !diagonalRef.current) return;

      const duration = 750;
      const paths = [
        {
          el: horizontalRef.current,
          clipPath: ["inset(0 100% 0 0)", "inset(0 0% 0 0)"],
        },
        {
          el: verticalRef.current,
          clipPath: ["inset(0 0 100% 0)", "inset(0 0 0% 0)"],
        },
        {
          el: diagonalRef.current,
          clipPath: ["inset(100% 0 0 0)", "inset(0% 0 0 0)"],
        },
      ];

      paths.forEach((path, i) => {
        animate(path.el, {
          clipPath: path.clipPath,
          ease: "inOutQuad",
          delay: i * duration,
          duration,
        });
      });
    });

    return () => scope.current?.revert();
  }, []);

  return (
    <div ref={root}>
      <span className="absolute monospace uppercase text-[12px] top-[15.375%] left-[0%] -translate-y-1/2 -translate-x-1/2">
        {formatTokenValue(successfulTx?.inputAmount, sellToken.decimals)} {sellToken.symbol}
      </span>
      <svg
        className="absolute top-[14.25%] left-[14.25%]"
        xmlns="http://www.w3.org/2000/svg"
        width="9"
        height="9"
        viewBox="0 0 9 9"
      >
        <title>circle</title>
        <circle cx="4.5" cy="4.5" r="4.5" fill="white" />
      </svg>
      <svg
        className="absolute top-[15.375%] left-[17.5825%] w-[64.75%] h-1 fill-white"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 282 2"
      >
        <title>Horizontal</title>
        <path
          ref={horizontalRef}
          d="M7.56836 0C7.98237 0.000238917 8.31836 0.335935 8.31836 0.75C8.31836 1.16407 7.98237 1.49976 7.56836 1.5H0.75C0.335786 1.5 -3.62117e-08 1.16421 0 0.75C4.84154e-07 0.335787 0.335787 -3.62117e-08 0.75 0H7.56836ZM21.2041 0C21.6183 3.62116e-08 21.9541 0.335788 21.9541 0.75C21.9541 1.16421 21.6183 1.5 21.2041 1.5H14.3857C13.9717 1.49981 13.6357 1.16409 13.6357 0.75C13.6357 0.335906 13.9717 0.000192838 14.3857 0H21.2041ZM34.8408 0C35.255 9.46251e-05 35.5908 0.335847 35.5908 0.75C35.5908 1.16416 35.255 1.49991 34.8408 1.5H28.0225C27.6082 1.5 27.2725 1.16421 27.2725 0.75C27.2725 0.335788 27.6082 -7.7659e-10 28.0225 0H34.8408ZM48.4766 0C48.8908 3.62116e-08 49.2266 0.335789 49.2266 0.75C49.2266 1.16421 48.8908 1.5 48.4766 1.5H41.6592C41.245 1.5 40.9092 1.16421 40.9092 0.75C40.9092 0.335788 41.245 -3.62116e-08 41.6592 0H48.4766ZM62.1133 0C62.5275 3.62115e-08 62.8633 0.335789 62.8633 0.75C62.8633 1.16421 62.5275 1.5 62.1133 1.5H55.2949C54.8808 1.49985 54.5449 1.16412 54.5449 0.75C54.5449 0.335881 54.8808 0.000149167 55.2949 0H62.1133ZM75.75 0C76.1641 0.00013468 76.5 0.335873 76.5 0.75C76.5 1.16413 76.1641 1.49987 75.75 1.5H68.9316C68.5174 1.5 68.1816 1.16421 68.1816 0.75C68.1816 0.33579 68.5174 -3.62115e-08 68.9316 0H75.75ZM89.3857 0C89.7999 3.62114e-08 90.1357 0.33579 90.1357 0.75C90.1357 1.16421 89.8 1.5 89.3857 1.5H82.5684C82.1541 1.5 81.8184 1.16421 81.8184 0.75C81.8184 0.33579 82.1542 -3.62115e-08 82.5684 0H89.3857ZM103.022 0C103.437 3.62114e-08 103.772 0.335791 103.772 0.75C103.772 1.16421 103.437 1.5 103.022 1.5H96.2041C95.79 1.49989 95.4541 1.16415 95.4541 0.75C95.4541 0.335858 95.79 0.000109113 96.2041 0H103.022ZM116.659 0C117.073 0.000179557 117.409 0.335902 117.409 0.75C117.409 1.1641 117.073 1.49982 116.659 1.5H109.841C109.427 1.5 109.091 1.16421 109.091 0.75C109.091 0.335791 109.427 -3.62114e-08 109.841 0H116.659ZM130.295 0C130.709 3.62113e-08 131.045 0.335792 131.045 0.75C131.045 1.16421 130.709 1.5 130.295 1.5H123.477C123.063 1.49975 122.727 1.16406 122.727 0.75C122.727 0.335948 123.063 0.000253393 123.477 0H130.295ZM143.932 0C144.346 4.00694e-05 144.682 0.335817 144.682 0.75C144.682 1.16419 144.346 1.49996 143.932 1.5H137.113C136.699 1.49994 136.363 1.16418 136.363 0.75C136.363 0.335829 136.699 5.93916e-05 137.113 0H143.932ZM157.568 0C157.982 0.00023891 158.318 0.335941 158.318 0.75C158.318 1.16407 157.982 1.49976 157.568 1.5H150.75C150.336 1.5 150 1.16421 150 0.75C150 0.335793 150.336 -3.62113e-08 150.75 0H157.568ZM171.204 0C171.618 3.62112e-08 171.954 0.335794 171.954 0.75C171.954 1.16421 171.618 1.5 171.204 1.5H164.386C163.972 1.49981 163.636 1.1641 163.636 0.75C163.636 0.33591 163.972 0.000189212 164.386 0H171.204ZM184.841 0C185.255 0.000109112 185.591 0.335862 185.591 0.75C185.591 1.16415 185.255 1.49989 184.841 1.5H178.022C177.608 1.5 177.272 1.16421 177.272 0.75C177.272 0.335794 177.608 -3.62112e-08 178.022 0H184.841ZM198.477 0C198.891 3.62112e-08 199.227 0.335795 199.227 0.75C199.227 1.16421 198.891 1.5 198.477 1.5H191.659C191.245 1.5 190.909 1.16421 190.909 0.75C190.909 0.335794 191.245 -3.62112e-08 191.659 0H198.477ZM212.113 0C212.527 3.62111e-08 212.863 0.335795 212.863 0.75C212.863 1.16421 212.527 1.5 212.113 1.5H205.295C204.881 1.49988 204.545 1.16414 204.545 0.75C204.545 0.335869 204.881 0.000120187 205.295 0H212.113ZM225.75 0C226.164 0.00016848 226.5 0.3359 226.5 0.75C226.5 1.16411 226.164 1.49983 225.75 1.5H218.932C218.517 1.5 218.182 1.16421 218.182 0.75C218.182 0.335796 218.517 -3.62111e-08 218.932 0H225.75ZM239.386 0C239.8 3.62111e-08 240.136 0.335796 240.136 0.75C240.136 1.16421 239.8 1.5 239.386 1.5H232.567C232.153 1.49974 231.817 1.16405 231.817 0.75C231.817 0.335956 232.153 0.000259631 232.567 0H239.386ZM253.022 0C253.437 2.89894e-05 253.772 0.335815 253.772 0.75C253.772 1.1642 253.437 1.49997 253.022 1.5H246.204C245.79 1.49994 245.454 1.16418 245.454 0.75C245.454 0.335834 245.79 6.08074e-05 246.204 0H253.022ZM266.659 0C267.073 0.000227834 267.409 0.335938 267.409 0.75C267.409 1.16407 267.073 1.49977 266.659 1.5H259.841C259.427 1.5 259.091 1.16421 259.091 0.75C259.091 0.335797 259.427 -3.6211e-08 259.841 0H266.659ZM280.295 0C280.709 3.6211e-08 281.045 0.335798 281.045 0.75C281.045 1.16421 280.709 1.5 280.295 1.5H273.477C273.063 1.4998 272.727 1.16409 272.727 0.75C272.727 0.335921 273.063 0.000200281 273.477 0H280.295Z"
        />
      </svg>
      <span className="absolute monospace uppercase text-[12px] top-[15.375%] right-[0%] -translate-y-1/2 translate-x-1/2">
        {formatTokenValue(successfulTx?.outputAmount, buyToken.decimals)} {buyToken.symbol}
      </span>
      <svg
        className="absolute top-[14.25%] right-[14.25%]"
        xmlns="http://www.w3.org/2000/svg"
        width="9"
        height="9"
        viewBox="0 0 9 9"
      >
        <title>circle</title>
        <circle cx="4.5" cy="4.5" r="4.5" fill="white" />
      </svg>
      <svg
        className="absolute top-[17.5825%] right-[15.2%] h-[64.75%] w-1 fill-white"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 2 282"
      >
        <title>Vertical</title>
        <path
          ref={verticalRef}
          d="M0 280.295V273.477C0.000238917 273.063 0.335935 272.727 0.75 272.727C1.16407 272.727 1.49976 273.063 1.5 273.477V280.295C1.5 280.709 1.16421 281.045 0.75 281.045C0.335787 281.045 -5.43175e-08 280.709 0 280.295ZM0 266.659V259.841C5.43174e-08 259.427 0.335788 259.091 0.75 259.091C1.16421 259.091 1.5 259.427 1.5 259.841V266.659C1.49981 267.073 1.16409 267.409 0.75 267.409C0.335907 267.409 0.000192837 267.073 0 266.659ZM0 253.022V246.204C9.46251e-05 245.79 0.335847 245.454 0.75 245.454C1.16416 245.454 1.49991 245.79 1.5 246.204V253.022C1.5 253.437 1.16421 253.772 0.75 253.772C0.335789 253.772 -1.16487e-09 253.437 0 253.022ZM0 239.386V232.568C5.43172e-08 232.154 0.33579 231.818 0.75 231.818C1.16421 231.818 1.5 232.154 1.5 232.568V239.386C1.5 239.8 1.16421 240.136 0.75 240.136C0.335789 240.136 -5.43173e-08 239.8 0 239.386ZM0 225.75V218.932C5.43171e-08 218.517 0.335791 218.182 0.75 218.182C1.16421 218.182 1.5 218.517 1.5 218.932V225.75C1.49985 226.164 1.16412 226.5 0.75 226.5C0.335882 226.5 0.000149166 226.164 0 225.75ZM0 212.113V205.295C0.000134679 204.881 0.335875 204.545 0.75 204.545C1.16413 204.545 1.49987 204.881 1.5 205.295V212.113C1.5 212.527 1.16421 212.863 0.75 212.863C0.335791 212.863 -5.43171e-08 212.527 0 212.113ZM0 198.477V191.659C5.4317e-08 191.245 0.335792 190.909 0.75 190.909C1.16421 190.909 1.5 191.245 1.5 191.659V198.477C1.5 198.891 1.16421 199.227 0.75 199.227C0.335792 199.227 -5.4317e-08 198.891 0 198.477ZM0 184.841V178.022C5.43169e-08 177.608 0.335793 177.272 0.75 177.272C1.16421 177.272 1.5 177.608 1.5 178.022V184.841C1.49989 185.255 1.16415 185.591 0.75 185.591C0.33586 185.591 0.000109111 185.255 0 184.841ZM0 171.204V164.386C0.000179556 163.972 0.335905 163.636 0.75 163.636C1.1641 163.636 1.49982 163.972 1.5 164.386V171.204C1.5 171.618 1.16421 171.954 0.75 171.954C0.335794 171.954 -5.43169e-08 171.618 0 171.204ZM0 157.568V150.75C5.43168e-08 150.336 0.335795 150 0.75 150C1.16421 150 1.5 150.336 1.5 150.75V157.568C1.49975 157.982 1.16406 158.318 0.75 158.318C0.335951 158.318 0.00025339 157.982 0 157.568ZM0 143.932V137.113C4.00693e-05 136.699 0.33582 136.363 0.75 136.363C1.16419 136.363 1.49996 136.699 1.5 137.113V143.932C1.49994 144.346 1.16418 144.682 0.75 144.682C0.335832 144.682 5.93904e-05 144.346 0 143.932ZM0 130.295V123.477C0.000238907 123.063 0.335944 122.727 0.75 122.727C1.16407 122.727 1.49976 123.063 1.5 123.477V130.295C1.5 130.709 1.16421 131.045 0.75 131.045C0.335796 131.045 -5.43166e-08 130.709 0 130.295ZM0 116.659V109.841C5.43165e-08 109.427 0.335797 109.091 0.75 109.091C1.16421 109.091 1.5 109.427 1.5 109.841V116.659C1.49981 117.073 1.1641 117.409 0.75 117.409C0.335914 117.409 0.000189208 117.073 0 116.659ZM0 103.022V96.2041C0.000109111 95.79 0.335865 95.4541 0.75 95.4541C1.16415 95.4541 1.49989 95.79 1.5 96.2041V103.022C1.5 103.437 1.16421 103.772 0.75 103.772C0.335798 103.772 -5.43165e-08 103.437 0 103.022ZM0 89.3857V82.5684C5.43164e-08 82.1542 0.335799 81.8184 0.75 81.8184C1.16421 81.8184 1.5 82.1541 1.5 82.5684V89.3857C1.5 89.8 1.16421 90.1357 0.75 90.1357C0.335799 90.1357 -5.43164e-08 89.7999 0 89.3857ZM0 75.75V68.9316C5.43163e-08 68.5174 0.3358 68.1817 0.75 68.1816C1.16421 68.1816 1.5 68.5174 1.5 68.9316V75.75C1.49988 76.1641 1.16414 76.5 0.75 76.5C0.335874 76.5 0.000120184 76.1641 0 75.75ZM0 62.1133V55.2949C0.000168477 54.8809 0.335905 54.5449 0.75 54.5449C1.16411 54.5449 1.49983 54.8809 1.5 55.2949V62.1133C1.5 62.5275 1.16421 62.8633 0.75 62.8633C0.3358 62.8633 -5.43162e-08 62.5275 0 62.1133ZM0 48.4775V41.6592C5.43161e-08 41.245 0.335801 40.9092 0.75 40.9092C1.16421 40.9092 1.5 41.245 1.5 41.6592V48.4775C1.49974 48.8915 1.16405 49.2275 0.75 49.2275C0.335961 49.2275 0.000259625 48.8915 0 48.4775ZM0 34.8408V28.0225C2.8989e-05 27.6083 0.33582 27.2725 0.75 27.2725C1.1642 27.2725 1.49997 27.6083 1.5 28.0225V34.8408C1.49994 35.255 1.16418 35.5908 0.75 35.5908C0.335839 35.5908 6.08056e-05 35.255 0 34.8408ZM0 21.2041V14.3857C0.000227829 13.9717 0.335944 13.6358 0.75 13.6357C1.16407 13.6357 1.49977 13.9717 1.5 14.3857V21.2041C1.5 21.6183 1.16421 21.9541 0.75 21.9541C0.335803 21.9541 -5.4316e-08 21.6183 0 21.2041ZM0 7.56836V0.75C5.43159e-08 0.335799 0.335804 2.05393e-05 0.75 0C1.16421 5.43176e-08 1.5 0.335786 1.5 0.75V7.56836C1.4998 7.9824 1.16409 8.31836 0.75 8.31836C0.335927 8.31834 0.000200275 7.98239 0 7.56836Z"
        />
      </svg>
      <a
        href={getExplorerUrl(successfulTx.chainId, "tx", successfulTx.hash)}
        className="absolute monospace uppercase text-[12px] underline bottom-[12%] right-[0%] -translate-y-1/2 translate-x-1/2"
      >
        {formatAddress(successfulTx.hash)}
      </a>
      <svg
        className="absolute bottom-[14.25%] right-[14.25%]"
        xmlns="http://www.w3.org/2000/svg"
        width="9"
        height="9"
        viewBox="0 0 9 9"
      >
        <title>circle</title>
        <circle cx="4.5" cy="4.5" r="4.5" fill="white" />
      </svg>
      <svg
        className="absolute top-[16.825%] left-[16.825%] w-[66.12%] h-[66.12%] fill-white"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 287 287"
      >
        <title>Diagonal</title>
        <path
          ref={diagonalRef}
          d="M280.865 280.865C281.158 280.572 281.633 280.572 281.926 280.865L286.764 285.704C287.057 285.997 287.057 286.472 286.764 286.764C286.472 287.057 285.997 287.057 285.704 286.764L280.865 281.926C280.572 281.633 280.572 281.158 280.865 280.865ZM271.187 271.187C271.48 270.894 271.955 270.895 272.248 271.187L277.087 276.026C277.38 276.319 277.38 276.794 277.087 277.087C276.794 277.38 276.319 277.38 276.026 277.087L271.187 272.248C270.895 271.955 270.894 271.48 271.187 271.187ZM261.51 261.51C261.802 261.217 262.277 261.217 262.57 261.51L267.409 266.348C267.702 266.641 267.702 267.116 267.409 267.409C267.116 267.702 266.641 267.702 266.348 267.409L261.51 262.57C261.217 262.277 261.217 261.802 261.51 261.51ZM251.833 251.833C252.126 251.54 252.6 251.54 252.893 251.833L257.732 256.672C258.025 256.965 258.025 257.439 257.732 257.732C257.439 258.025 256.965 258.025 256.672 257.732L251.833 252.893C251.54 252.6 251.54 252.126 251.833 251.833ZM242.155 242.155C242.448 241.862 242.923 241.862 243.216 242.155L248.055 246.994C248.347 247.287 248.347 247.762 248.055 248.055C247.762 248.347 247.287 248.347 246.994 248.055L242.155 243.216C241.862 242.923 241.862 242.448 242.155 242.155ZM232.477 232.477C232.77 232.184 233.246 232.184 233.539 232.477L238.377 237.316C238.67 237.609 238.67 238.084 238.377 238.377C238.084 238.67 237.609 238.67 237.316 238.377L232.477 233.539C232.184 233.246 232.184 232.77 232.477 232.477ZM222.801 222.801C223.093 222.508 223.568 222.508 223.861 222.801L228.7 227.639C228.993 227.932 228.993 228.407 228.7 228.7C228.407 228.993 227.932 228.993 227.639 228.7L222.801 223.861C222.508 223.568 222.508 223.093 222.801 222.801ZM213.123 213.123C213.416 212.83 213.891 212.83 214.183 213.123L219.022 217.962C219.315 218.255 219.315 218.729 219.022 219.022C218.729 219.315 218.255 219.315 217.962 219.022L213.123 214.183C212.83 213.891 212.83 213.416 213.123 213.123ZM203.445 203.445C203.738 203.152 204.214 203.152 204.507 203.445L209.345 208.284C209.637 208.577 209.637 209.052 209.345 209.345C209.052 209.637 208.577 209.637 208.284 209.345L203.445 204.507C203.152 204.214 203.152 203.738 203.445 203.445ZM193.768 193.768C194.061 193.475 194.536 193.475 194.829 193.768L199.668 198.607C199.96 198.9 199.961 199.375 199.668 199.668C199.375 199.961 198.9 199.96 198.607 199.668L193.768 194.829C193.475 194.536 193.475 194.061 193.768 193.768ZM184.091 184.091C184.383 183.798 184.858 183.798 185.151 184.091L189.99 188.93C190.283 189.222 190.283 189.697 189.99 189.99C189.697 190.283 189.222 190.283 188.93 189.99L184.091 185.151C183.798 184.858 183.798 184.383 184.091 184.091ZM174.413 174.413C174.706 174.12 175.182 174.12 175.474 174.413L180.312 179.252C180.605 179.545 180.605 180.019 180.312 180.312C180.019 180.605 179.545 180.605 179.252 180.312L174.413 175.474C174.12 175.182 174.12 174.706 174.413 174.413ZM164.736 164.736C165.029 164.443 165.504 164.443 165.797 164.736L170.636 169.575C170.928 169.868 170.928 170.343 170.636 170.636C170.343 170.928 169.868 170.928 169.575 170.636L164.736 165.797C164.443 165.504 164.443 165.029 164.736 164.736ZM155.058 155.058C155.351 154.766 155.826 154.766 156.119 155.058L160.958 159.897C161.251 160.19 161.251 160.665 160.958 160.958C160.665 161.251 160.19 161.251 159.897 160.958L155.058 156.119C154.766 155.826 154.766 155.351 155.058 155.058ZM145.381 145.381C145.674 145.088 146.149 145.088 146.442 145.381L151.28 150.22C151.573 150.512 151.573 150.987 151.28 151.28C150.987 151.573 150.512 151.573 150.22 151.28L145.381 146.442C145.088 146.149 145.088 145.674 145.381 145.381ZM135.704 135.704C135.997 135.411 136.472 135.411 136.764 135.704L141.603 140.543C141.896 140.836 141.896 141.311 141.603 141.603C141.311 141.896 140.836 141.896 140.543 141.603L135.704 136.764C135.411 136.472 135.411 135.997 135.704 135.704ZM126.026 126.026C126.319 125.733 126.794 125.733 127.087 126.026L131.926 130.865C132.218 131.158 132.218 131.633 131.926 131.926C131.633 132.218 131.158 132.218 130.865 131.926L126.026 127.087C125.733 126.794 125.733 126.319 126.026 126.026ZM116.348 116.348C116.641 116.056 117.116 116.056 117.409 116.348L122.248 121.187C122.541 121.48 122.541 121.955 122.248 122.248C121.955 122.541 121.48 122.541 121.187 122.248L116.348 117.409C116.056 117.116 116.056 116.641 116.348 116.348ZM106.672 106.672C106.965 106.379 107.439 106.379 107.732 106.672L112.571 111.511C112.864 111.803 112.864 112.278 112.571 112.571C112.278 112.864 111.803 112.864 111.511 112.571L106.672 107.732C106.379 107.439 106.379 106.965 106.672 106.672ZM96.994 96.994C97.2868 96.7011 97.7616 96.7011 98.0545 96.994L102.893 101.833C103.186 102.126 103.186 102.601 102.893 102.893C102.601 103.186 102.126 103.186 101.833 102.893L96.994 98.0545C96.7011 97.7616 96.7011 97.2868 96.994 96.994ZM87.3162 87.3162C87.609 87.0235 88.0838 87.0237 88.3768 87.3162L93.2156 92.1551C93.5085 92.448 93.5085 92.9227 93.2156 93.2156C92.9227 93.5085 92.448 93.5085 92.1551 93.2156L87.3162 88.3768C87.0237 88.0838 87.0235 87.609 87.3162 87.3162ZM77.6395 77.6395C77.9324 77.3466 78.4071 77.3466 78.7 77.6395L83.5389 82.4774C83.8318 82.7702 83.8318 83.246 83.5389 83.5389C83.246 83.8318 82.7702 83.8318 82.4774 83.5389L77.6395 78.7C77.3466 78.4071 77.3466 77.9324 77.6395 77.6395ZM67.9617 67.9617C68.2546 67.6688 68.7294 67.6688 69.0223 67.9617L73.8611 72.8006C74.1539 73.0935 74.154 73.5683 73.8611 73.8611C73.5683 74.154 73.0935 74.1539 72.8006 73.8611L67.9617 69.0223C67.6688 68.7294 67.6688 68.2546 67.9617 67.9617ZM58.284 58.284C58.5768 57.9912 59.0516 57.9914 59.3445 58.284L64.1834 63.1229C64.4763 63.4158 64.4763 63.8905 64.1834 64.1834C63.8905 64.4763 63.4158 64.4763 63.1229 64.1834L58.284 59.3445C57.9914 59.0516 57.9912 58.5768 58.284 58.284ZM48.6072 48.6072C48.9001 48.3143 49.3749 48.3143 49.6678 48.6072L54.5067 53.4451C54.7995 53.738 54.7995 54.2138 54.5067 54.5067C54.2138 54.7995 53.738 54.7995 53.4451 54.5067L48.6072 49.6678C48.3143 49.3749 48.3143 48.9001 48.6072 48.6072ZM38.9295 38.9295C39.2224 38.6366 39.6972 38.6366 39.9901 38.9295L44.8289 43.7684C45.1216 44.0613 45.1217 44.5361 44.8289 44.8289C44.5361 45.1217 44.0613 45.1216 43.7684 44.8289L38.9295 39.9901C38.6366 39.6972 38.6366 39.2224 38.9295 38.9295ZM29.2518 29.2518C29.5446 28.959 30.0194 28.9592 30.3123 29.2518L35.1512 34.0906C35.4441 34.3835 35.4441 34.8583 35.1512 35.1512C34.8583 35.4441 34.3835 35.4441 34.0906 35.1512L29.2518 30.3123C28.9592 30.0194 28.959 29.5446 29.2518 29.2518ZM19.575 19.575C19.8679 19.2821 20.3427 19.2821 20.6356 19.575L25.4744 24.4129C25.7673 24.7058 25.7673 25.1815 25.4744 25.4744C25.1815 25.7673 24.7058 25.7673 24.4129 25.4744L19.575 20.6356C19.2821 20.3427 19.2821 19.8679 19.575 19.575ZM9.89728 9.89728C10.1902 9.60438 10.6649 9.60438 10.9578 9.89728L15.7967 14.7361C16.0894 15.0291 16.0895 15.5039 15.7967 15.7967C15.5039 16.0895 15.0291 16.0894 14.7361 15.7967L9.89728 10.9578C9.60438 10.6649 9.60438 10.1902 9.89728 9.89728ZM0.219544 0.219544C0.512353 -0.0732654 0.987177 -0.0730971 1.28009 0.219544L6.11896 5.05841C6.41185 5.3513 6.41185 5.82606 6.11896 6.11896C5.82606 6.41185 5.3513 6.41185 5.05841 6.11896L0.219544 1.28009C-0.0730971 0.987177 -0.0732654 0.512353 0.219544 0.219544Z"
        />
      </svg>
    </div>
  );
}

export function SuccessSplash({ sellToken, buyToken, successfulTx, onClose }: SuccessSplashProps) {
  useNoScroll(true);

  return (
    <div
      style={{ backgroundImage: "url(/images/splash-success-bg@2px.png)" }}
      className="fixed top-0 left-1/2 -translate-x-1/2 w-full max-w-307 text-primary z-layer-dialog p-20"
    >
      <div className="h-dvh flex flex-col items-center justify-center gap-40 text-white text-center">
        <span className="uppercase text-[28px] leading-12">Success</span>
        <MarketNetwork>
          <RouteAnimation sellToken={sellToken} buyToken={buyToken} successfulTx={successfulTx} />
        </MarketNetwork>
        <span className="text-[20px]">
          <span className="inline-block">Route swaps to the highest performing provider.</span>
          <span className="inline-block">Get started with a free API key.</span>
        </span>
        <div className="flex flex-col gap-4 w-full">
          <button
            type="button"
            className="w-full h-20 bg-black text-primary py-4 px-8 text-center monospace text-[12px] cursor-pointer"
            onClick={onClose}
          >
            Done
          </button>
          <a
            href="https://docs.withfabric.xyz"
            target="_blank"
            rel="noopener noreferrer"
            className="block w-full h-20 bg-white text-surface-base py-4 px-8 text-center monospace text-[12px] cursor-pointer"
          >
            Get Started
          </a>
        </div>
      </div>
    </div>
  );
}
