import type { Address, Chain, PublicClient, WalletClient } from "viem";

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// SwapIntentProtocol
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

export const swapIntentProtocolAbi = [
  {
    type: "function",
    inputs: [{ name: "intentId", internalType: "uint256", type: "uint256" }],
    name: "cancelIntent",
    outputs: [],
    stateMutability: "nonpayable",
  },
  {
    type: "function",
    inputs: [
      {
        name: "params",
        internalType: "struct SwapIntentParams",
        type: "tuple",
        components: [
          { name: "buyCurrency", internalType: "Currency", type: "address" },
          { name: "sellCurrency", internalType: "Currency", type: "address" },
          { name: "buyAmount", internalType: "uint256", type: "uint256" },
          { name: "sellAmount", internalType: "uint256", type: "uint256" },
          {
            name: "callback",
            internalType: "contract ISwapIntentCallbacks",
            type: "address",
          },
        ],
      },
    ],
    name: "createIntent",
    outputs: [],
    stateMutability: "payable",
  },
  {
    type: "function",
    inputs: [{ name: "intentId", internalType: "uint256", type: "uint256" }],
    name: "getIntent",
    outputs: [
      {
        name: "intent",
        internalType: "struct SwapIntent",
        type: "tuple",
        components: [
          { name: "buyCurrency", internalType: "Currency", type: "address" },
          { name: "sellCurrency", internalType: "Currency", type: "address" },
          { name: "buyAmount", internalType: "uint256", type: "uint256" },
          { name: "sellAmount", internalType: "uint256", type: "uint256" },
          { name: "account", internalType: "address", type: "address" },
        ],
      },
    ],
    stateMutability: "view",
  },
  {
    type: "function",
    inputs: [{ name: "data", internalType: "bytes[]", type: "bytes[]" }],
    name: "multicall",
    outputs: [{ name: "", internalType: "bytes[]", type: "bytes[]" }],
    stateMutability: "payable",
  },
  {
    type: "function",
    inputs: [{ name: "intentId", internalType: "uint256", type: "uint256" }],
    name: "resolveIntent",
    outputs: [],
    stateMutability: "payable",
  },
  {
    type: "function",
    inputs: [
      { name: "intentAId", internalType: "uint256", type: "uint256" },
      { name: "intentBId", internalType: "uint256", type: "uint256" },
    ],
    name: "resolveMatchingIntents",
    outputs: [],
    stateMutability: "nonpayable",
  },
  {
    type: "function",
    inputs: [
      { name: "intentId", internalType: "uint256", type: "uint256" },
      { name: "buyAmount", internalType: "int256", type: "int256" },
      { name: "sellAmount", internalType: "int256", type: "int256" },
    ],
    name: "updateIntent",
    outputs: [],
    stateMutability: "payable",
  },
  {
    type: "event",
    anonymous: false,
    inputs: [
      {
        name: "intentId",
        internalType: "uint256",
        type: "uint256",
        indexed: true,
      },
      {
        name: "account",
        internalType: "address",
        type: "address",
        indexed: true,
      },
      {
        name: "amount0",
        internalType: "int256",
        type: "int256",
        indexed: false,
      },
      {
        name: "amount1",
        internalType: "int256",
        type: "int256",
        indexed: false,
      },
      { name: "expired", internalType: "bool", type: "bool", indexed: false },
    ],
    name: "IntentCanceled",
  },
  {
    type: "event",
    anonymous: false,
    inputs: [
      {
        name: "buyCurrency",
        internalType: "Currency",
        type: "address",
        indexed: true,
      },
      {
        name: "sellCurrency",
        internalType: "Currency",
        type: "address",
        indexed: true,
      },
      {
        name: "account",
        internalType: "address",
        type: "address",
        indexed: true,
      },
      {
        name: "intentId",
        internalType: "uint256",
        type: "uint256",
        indexed: false,
      },
      {
        name: "buyAmount",
        internalType: "uint256",
        type: "uint256",
        indexed: false,
      },
      {
        name: "sellAmount",
        internalType: "uint256",
        type: "uint256",
        indexed: false,
      },
    ],
    name: "IntentCreated",
  },
  {
    type: "event",
    anonymous: false,
    inputs: [
      {
        name: "intentId",
        internalType: "uint256",
        type: "uint256",
        indexed: true,
      },
      {
        name: "taker",
        internalType: "address",
        type: "address",
        indexed: true,
      },
      {
        name: "amount0",
        internalType: "int256",
        type: "int256",
        indexed: false,
      },
      {
        name: "amount1",
        internalType: "int256",
        type: "int256",
        indexed: false,
      },
      { name: "closed", internalType: "bool", type: "bool", indexed: false },
    ],
    name: "IntentFullfilled",
  },
  { type: "error", inputs: [], name: "IntentNotExpired" },
  { type: "error", inputs: [], name: "IntentNotFound" },
  { type: "error", inputs: [], name: "IntentNotOwned" },
  { type: "error", inputs: [], name: "InvalidAccount" },
  { type: "error", inputs: [], name: "InvalidAmounts" },
  { type: "error", inputs: [], name: "InvalidCapture" },
  { type: "error", inputs: [], name: "InvalidIntent" },
  { type: "error", inputs: [], name: "InvalidPair" },
] as const;

// This file is auto-generated. Do not edit.
export const bytecode =
  "0x6080604052348015600e575f5ffd5b50611dfc8061001c5f395ff3fe60806040526004361061006f575f3560e01c8063a0a31aac1161004d578063a0a31aac146100e7578063ac9650d81461010f578063b8eae3481461013f578063d8227a85146101675761006f565b8063246f91fe1461007357806371020f861461008f578063906e277b146100ab575b5f5ffd5b61008d60048036038101906100889190611536565b610183565b005b6100a960048036038101906100a49190611594565b6104c4565b005b3480156100b6575f5ffd5b506100d160048036038101906100cc9190611594565b6107d1565b6040516100de91906116ce565b60405180910390f35b3480156100f2575f5ffd5b5061010d60048036038101906101089190611594565b610977565b005b61012960048036038101906101249190611748565b610d6c565b60405161013691906118be565b60405180910390f35b34801561014a575f5ffd5b50610165600480360381019061016091906118de565b610d91565b005b610181600480360381019061017c919061194f565b610dcc565b005b5f5f5f8154610191906119cc565b91905081905590505f6101d983606001358460200160208101906101b59190611a3d565b73ffffffffffffffffffffffffffffffffffffffff16610dde90919063ffffffff16565b90505f6040518060a00160405280855f0160208101906101f99190611a3d565b73ffffffffffffffffffffffffffffffffffffffff1681526020018560200160208101906102279190611a3d565b73ffffffffffffffffffffffffffffffffffffffff168152602001856040013581526020018381526020013373ffffffffffffffffffffffffffffffffffffffff16815250905061027781610f01565b8060015f8581526020019081526020015f205f820151815f015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408201518160020155606082015181600301556080820151816004015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055509050505f73ffffffffffffffffffffffffffffffffffffffff1684608001602081019061039a9190611aa3565b73ffffffffffffffffffffffffffffffffffffffff1614610417578360800160208101906103c89190611aa3565b60025f8581526020019081526020015f205f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b3373ffffffffffffffffffffffffffffffffffffffff168460200160208101906104419190611a3d565b73ffffffffffffffffffffffffffffffffffffffff16855f0160208101906104699190611a3d565b73ffffffffffffffffffffffffffffffffffffffff167fe8199be7b808305c2f7016e3408a9cddd63cf4fb5f7e7d794c6950e71a32b849868860400135876040516104b693929190611add565b60405180910390a450505050565b5f6104ce826107d1565b90505f6105018260400151835f015173ffffffffffffffffffffffffffffffffffffffff16610dde90919063ffffffff16565b905081604001518114610549576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161054090611b6c565b60405180910390fd5b60015f8481526020019081526020015f205f5f82015f6101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055600182015f6101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055600282015f9055600382015f9055600482015f6101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055505061060e826080015182845f015173ffffffffffffffffffffffffffffffffffffffff16610f509092919063ffffffff16565b610641338360600151846020015173ffffffffffffffffffffffffffffffffffffffff16610f509092919063ffffffff16565b3373ffffffffffffffffffffffffffffffffffffffff16837f98d566f9035a1cd04fab54a27b6bb88f8299f7c85a7931b41985440d5c90ed8b83856060015161068990611b8a565b5f60405161069993929190611bf9565b60405180910390a35f73ffffffffffffffffffffffffffffffffffffffff1660025f8581526020019081526020015f205f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16146107cc5760025f8481526020019081526020015f205f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663ed8a754e84846040518363ffffffff1660e01b815260040161076f929190611c2e565b5f604051808303815f87803b158015610786575f5ffd5b505af1925050508015610797575060015b5060025f8481526020019081526020015f205f6101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690555b505050565b6107d96114a0565b60015f8381526020019081526020015f206040518060a00160405290815f82015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600182015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016002820154815260200160038201548152602001600482015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152505090505f73ffffffffffffffffffffffffffffffffffffffff16816080015173ffffffffffffffffffffffffffffffffffffffff1603610972576040517f61ae648300000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b919050565b5f60015f8381526020019081526020015f206040518060a00160405290815f82015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600182015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016002820154815260200160038201548152602001600482015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152505090503373ffffffffffffffffffffffffffffffffffffffff16816080015173ffffffffffffffffffffffffffffffffffffffff1614610b1a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b1190611c9f565b60405180910390fd5b60015f8381526020019081526020015f205f5f82015f6101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055600182015f6101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055600282015f9055600382015f9055600482015f6101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690555050610be0338260600151836020015173ffffffffffffffffffffffffffffffffffffffff16610f509092919063ffffffff16565b3373ffffffffffffffffffffffffffffffffffffffff168267ffffffffffffffff167f8b3d41f4d96f902c62b68411b666df161942e7433bea1c8dad59a6a531b00d0e5f5f5f604051610c3593929190611cf6565b60405180910390a35f73ffffffffffffffffffffffffffffffffffffffff1660025f8481526020019081526020015f205f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610d685760025f8381526020019081526020015f205f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16631436662483836040518363ffffffff1660e01b8152600401610d0b929190611c2e565b5f604051808303815f87803b158015610d22575f5ffd5b505af1925050508015610d33575060015b5060025f8381526020019081526020015f205f6101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690555b5050565b60605f3414610d79575f5ffd5b610d8b610d868484611038565b6110e2565b92915050565b6040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610dc390611d75565b60405180910390fd5b5f610dd6846110f3565b905050505050565b5f819050610e018373ffffffffffffffffffffffffffffffffffffffff16611302565b15610e4457813414610e3f576040517fe10d68f700000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b610efb565b5f341115610e7e576040517fe10d68f700000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f610e9e8473ffffffffffffffffffffffffffffffffffffffff16611339565b9050610ecd3330858773ffffffffffffffffffffffffffffffffffffffff16611397909392919063ffffffff16565b80610eed8573ffffffffffffffffffffffffffffffffffffffff16611339565b610ef79190611d93565b9150505b92915050565b5f8160400151118015610f1757505f8160600151115b610f4d576040517f7db5cbbe00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b50565b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610fb5576040517f6d187b2800000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b610fd48373ffffffffffffffffffffffffffffffffffffffff16611302565b1561100757611002818373ffffffffffffffffffffffffffffffffffffffff166113fc90919063ffffffff16565b611033565b61103282828573ffffffffffffffffffffffffffffffffffffffff166114199092919063ffffffff16565b5b505050565b5f60405190506020815281816020015280604001808360051b8086843780830190508085156110cc575b6001156110cb578351870180356020820183375f38823584305af4611089573d5f873e3d86fd5b83820385528460200194503d8252602082013d5f823e67ffffffffffffffe0601f3d8301011692505f3d8201528386106110c45750506110cb565b5050611062565b5b80604052848160401b1794505050505092915050565b8060401c8167ffffffffffffffff16f35b6110fb6114a0565b60015f8381526020019081526020015f206040518060a00160405290815f82015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600182015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016002820154815260200160038201548152602001600482015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152505090503373ffffffffffffffffffffffffffffffffffffffff16816080015173ffffffffffffffffffffffffffffffffffffffff1614611294576040517fbb854f4700000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f73ffffffffffffffffffffffffffffffffffffffff16816080015173ffffffffffffffffffffffffffffffffffffffff16036112fd576040517f61ae648300000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b919050565b5f5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16149050919050565b5f6113598273ffffffffffffffffffffffffffffffffffffffff16611302565b1561136657479050611392565b61138f308373ffffffffffffffffffffffffffffffffffffffff1661146d90919063ffffffff16565b90505b919050565b60405181606052826040528360601b602c526f23b872dd000000000000000000000000600c5260205f6064601c5f895af18060015f5114166113ec57803d873b1517106113eb57637939f4245f526004601cfd5b5b5f60605281604052505050505050565b5f385f3884865af16114155763b12d13eb5f526004601cfd5b5050565b81601452806034526fa9059cbb0000000000000000000000005f5260205f604460105f875af18060015f51141661146357803d853b151710611462576390b8ec185f526004601cfd5b5b5f60345250505050565b5f816014526f70a082310000000000000000000000005f5260208060246010865afa601f3d111660205102905092915050565b6040518060a001604052805f73ffffffffffffffffffffffffffffffffffffffff1681526020015f73ffffffffffffffffffffffffffffffffffffffff1681526020015f81526020015f81526020015f73ffffffffffffffffffffffffffffffffffffffff1681525090565b5f5ffd5b5f5ffd5b5f5ffd5b5f60a0828403121561152d5761152c611514565b5b81905092915050565b5f60a0828403121561154b5761154a61150c565b5b5f61155884828501611518565b91505092915050565b5f819050919050565b61157381611561565b811461157d575f5ffd5b50565b5f8135905061158e8161156a565b92915050565b5f602082840312156115a9576115a861150c565b5b5f6115b684828501611580565b91505092915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f819050919050565b5f6116016115fc6115f7846115bf565b6115de565b6115bf565b9050919050565b5f611612826115e7565b9050919050565b5f61162382611608565b9050919050565b61163381611619565b82525050565b61164281611561565b82525050565b5f611652826115bf565b9050919050565b61166281611648565b82525050565b60a082015f82015161167c5f85018261162a565b50602082015161168f602085018261162a565b5060408201516116a26040850182611639565b5060608201516116b56060850182611639565b5060808201516116c86080850182611659565b50505050565b5f60a0820190506116e15f830184611668565b92915050565b5f5ffd5b5f5ffd5b5f5ffd5b5f5f83601f840112611708576117076116e7565b5b8235905067ffffffffffffffff811115611725576117246116eb565b5b602083019150836020820283011115611741576117406116ef565b5b9250929050565b5f5f6020838503121561175e5761175d61150c565b5b5f83013567ffffffffffffffff81111561177b5761177a611510565b5b611787858286016116f3565b92509250509250929050565b5f81519050919050565b5f82825260208201905092915050565b5f819050602082019050919050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f6117fe826117bc565b61180881856117c6565b93506118188185602086016117d6565b611821816117e4565b840191505092915050565b5f61183783836117f4565b905092915050565b5f602082019050919050565b5f61185582611793565b61185f818561179d565b935083602082028501611871856117ad565b805f5b858110156118ac578484038952815161188d858261182c565b94506118988361183f565b925060208a01995050600181019050611874565b50829750879550505050505092915050565b5f6020820190508181035f8301526118d6818461184b565b905092915050565b5f5f604083850312156118f4576118f361150c565b5b5f61190185828601611580565b925050602061191285828601611580565b9150509250929050565b5f819050919050565b61192e8161191c565b8114611938575f5ffd5b50565b5f8135905061194981611925565b92915050565b5f5f5f606084860312156119665761196561150c565b5b5f61197386828701611580565b93505060206119848682870161193b565b92505060406119958682870161193b565b9150509250925092565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f6119d682611561565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203611a0857611a0761199f565b5b600182019050919050565b611a1c81611648565b8114611a26575f5ffd5b50565b5f81359050611a3781611a13565b92915050565b5f60208284031215611a5257611a5161150c565b5b5f611a5f84828501611a29565b91505092915050565b5f611a7282611648565b9050919050565b611a8281611a68565b8114611a8c575f5ffd5b50565b5f81359050611a9d81611a79565b92915050565b5f60208284031215611ab857611ab761150c565b5b5f611ac584828501611a8f565b91505092915050565b611ad781611561565b82525050565b5f606082019050611af05f830186611ace565b611afd6020830185611ace565b611b0a6040830184611ace565b949350505050565b5f82825260208201905092915050565b7f4e6f7420656e6f7567682062757920616d6f756e7400000000000000000000005f82015250565b5f611b56601583611b12565b9150611b6182611b22565b602082019050919050565b5f6020820190508181035f830152611b8381611b4a565b9050919050565b5f611b948261191c565b91507f80000000000000000000000000000000000000000000000000000000000000008203611bc657611bc561199f565b5b815f039050919050565b611bd98161191c565b82525050565b5f8115159050919050565b611bf381611bdf565b82525050565b5f606082019050611c0c5f830186611bd0565b611c196020830185611bd0565b611c266040830184611bea565b949350505050565b5f60c082019050611c415f830185611ace565b611c4e6020830184611668565b9392505050565b7f6e6f0000000000000000000000000000000000000000000000000000000000005f82015250565b5f611c89600283611b12565b9150611c9482611c55565b602082019050919050565b5f6020820190508181035f830152611cb681611c7d565b9050919050565b5f819050919050565b5f611ce0611cdb611cd684611cbd565b6115de565b61191c565b9050919050565b611cf081611cc6565b82525050565b5f606082019050611d095f830186611ce7565b611d166020830185611ce7565b611d236040830184611bea565b949350505050565b7f4e6f7420696d706c656d656e74656400000000000000000000000000000000005f82015250565b5f611d5f600f83611b12565b9150611d6a82611d2b565b602082019050919050565b5f6020820190508181035f830152611d8c81611d53565b9050919050565b5f611d9d82611561565b9150611da883611561565b9250828203905081811115611dc057611dbf61199f565b5b9291505056fea26469706673582212200392d0546dc2c86bc14a1ae3c9fc9026fc519f3182e813dde6cb9cd76678210964736f6c634300081e0033";

// This file is auto-generated. Do not edit.
export type ClientArgs = {
  publicClient: PublicClient;
  walletClient: WalletClient;
  chain: Chain;
};

export async function deployContract({
  chain,
  walletClient,
  publicClient,
}: ClientArgs): Promise<Address> {
  const hash = await walletClient.deployContract({
    abi: swapIntentProtocolAbi,
    chain: chain,
    account: walletClient.account || null,
    bytecode,
  });

  const receipt = await publicClient.waitForTransactionReceipt({ hash });
  if (!receipt.contractAddress) {
    throw new Error("Contract deployment failed");
  }
  return receipt.contractAddress;
}
